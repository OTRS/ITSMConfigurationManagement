# --
# AgentITSMConfigItem.dtl - provides HTML form for AgentITSMConfigItem
# Copyright (C) 2001-2010 OTRS AG, http://otrs.org/
# --
# $Id: AgentITSMConfigItem.dtl,v 1.14 2010-12-09 01:21:35 ub Exp $
# --
# This software comes with ABSOLUTELY NO WARRANTY. For details, see
# the enclosed file COPYING for license information (AGPL). If you
# did not receive this file, see http://www.gnu.org/licenses/agpl.txt.
# --

<!-- dtl:block:Overview -->
<div class="MainBox ARIARoleMain LayoutFixedSidebar SidebarFirst">
    <h1>$Text{"Overview"}: $Text{"Config Item"}</h1>

    <div class="SidebarColumn">
        <div class="WidgetSimple">
            <div class="Header">
                <h2>$Text{"Actions"}</h2>
            </div>
            <div class='Content'>
                <ul class="ActionList">
<!--dtl:block:ActionAddItem-->
                    <li>
                        <form action="$Env{"CGIHandle"}" method="get">
                            <input type="hidden" name="Action" value="AgentITSMConfigItemEdit"/>

                            <div>$Data{"ClassOptionStrg"}</div>
                            <button class="CallForAction Plus" type="submit" value="$Text{"Add"}">
                                <span>$Text{"Add Config Item"}</span>
                            </button>
                        </form>
                    </li>
<!--dtl:block:ActionAddItem-->
                </ul>
            </div>
        </div>
    </div>


    <div class="ContentColumn">
        <div class="WidgetSimple">
            <div class="ContentColumn">
                <div class="ControlRow">
                    <h2>Classes</h2>
                </div>
                <div class="ActionRow">
                    <ul class="Actions">
<!-- dtl:block:Menu -->
<!-- dtl:block:MenuItem -->
                        <li class="ActionField">
                            <a name="$QData{"Class"}" id="ClassID$QData{"ClassID"}" href="$Env{"Baselink"}Action=$Env{"Action"};ClassID=$QData{"ClassID"};SubAction=Reload">
                                $QData{"Class"} ($QData{"Count"})
                            </a>
                        </li>
<!-- dtl:block:MenuItem -->
<!-- dtl:block:Menu -->
                    </ul>
                </div>
            </div>
        </div>

<!-- dtl:js_on_document_complete -->
        <script type="text/javascript">//<![CDATA[
            $('.ActionField a, .Page a').live('click', function (Event) {
                $('#ContentToUpdate').addClass('Loading');
                Core.AJAX.ContentUpdate($('#ContentToUpdate'), $(this).attr('href'), function () {
                    $('#ContentToUpdate').removeClass('Loading');
                });
                return false;
            });
        //]]></script>
<!-- dtl:js_on_document_complete -->

        <div id="ContentToUpdate"  class="WidgetSimple">
            <div class="ControlRow">
                <h2>
                    $Text{"Config Items shown"}: $QData{"Result"} - $Text{"Page"}: $QData{"PageNull"}
<!-- dtl:block:Page -->
<!-- dtl:block:PageNormal -->
                    <span class="Page">
                        <a href="$Env{"Baselink"}Action=$Env{"Action"};ClassID=$QData{"ClassID"};Page=$QData{"Page"};SubAction=Reload">$QData{"Page"}</a>
                    </span>
<!-- dtl:block:PageNormal -->
<!-- dtl:block:PageBold -->
                    <span class="Page">
                        <a href="$Env{"Baselink"}Action=$Env{"Action"};ClassID=$QData{"ClassID"};Page=$QData{"Page"};SubAction=Reload"><strong>$QData{"Page"}</strong></a>
                    </span>
<!-- dtl:block:PageBold -->
<!-- dtl:block:Page -->
                    <span class="AdditionalInformation">
                        $Text{"Config Items available"}:
<!-- dtl:block:ItemsAvail -->
                        $QData{"ConfigItemsAvail"}
<!-- dtl:block:ItemsAvail -->
                    </span>
                </h2>
            </div>
<!-- dtl:block:Class -->
            <div class="Header">
                <h2>
                    $Text{"Class"}: $QData{"Class"}
                </h2>
            </div>
            <div class="Content">
                <table class="DataTable">
                    <thead>
                        <tr>
                            <th>$Text{"Incident State"}</th>
                            <th>$Text{"Number"}</th>
                            <th>$Text{"Name"}</th>
                            <th>$Text{"Deployment State"}</th>
                            <th>$Text{"Last Change"}</th>
                        </tr>
                    </thead>
                    <tbody>
<!-- dtl:block:ClassRow -->
                        <tr class="MasterAction">
                            <td title="$Text{"$Data{"CurInciState"}"}" class="Flags Fixed">
                                <div title="$Text{"$Data{"CurInciState"}"}" class="Flag Small">
                                    <span class="$Text{"$Data{"CurInciSignal"}"}">$Text{"$Data{"CurInciState"}"}</span>
                                </div>
                            </td>
                            <td>
                                <a class="MasterActionLink" href="$Env{"Baselink"}Action=AgentITSMConfigItemZoom;ConfigItemID=$QData{"ConfigItemID"}">$QData{"Number"}</a>
                            </td>
                            <td>$QData{"Name","40"}</td>
                            <td>$Text{"$Data{"CurDeplState"}"}</td>
                            <td class="W25pc">$TimeLong{"$QData{"CreateTime"}"}</td>
                        </tr>
<!-- dtl:block:ClassRow -->
<!-- dtl:block:NoClassRow -->
                        <tr>
                            <td colspan="5" class="Center">$Text{"No data found."}</td>
                        </tr>
<!-- dtl:block:NoClassRow -->
                    </tbody>
                </table>
            </div>
<!-- dtl:block:Class -->
        </div>
    </div>
</div>
<!-- dtl:block:Overview -->



<!-- dtl:block:Reload -->
<div class="ControlRow">
    <h2>
        $Text{"Config Items shown"}: $QData{"Result"} -
        $Text{"Page"}: $QData{"PageNull"}
<!-- dtl:block:PageReload -->
<!-- dtl:block:PageNormalReload -->
        <span class="Page">
            <a href="$Env{"Baselink"}Action=$Env{"Action"};ClassID=$QData{"ClassID"};Page=$QData{"Page"};SubAction=Reload">$QData{"Page"}</a>
        </span>
<!-- dtl:block:PageNormalReload -->
<!-- dtl:block:PageBoldReload -->
        <span class="Page">
            <a href="$Env{"Baselink"}Action=$Env{"Action"};ClassID=$QData{"ClassID"};Page=$QData{"Page"};SubAction=Reload"><strong>$QData{"Page"}</strong></a>
        </span>
<!-- dtl:block:PageBoldReload -->
<!-- dtl:block:PageReload -->
        <span class="AdditionalInformation">
            $Text{"Config Items available"}: $QData{"ConfigItemsAvail"}
        </span>
    </h2>
</div>
<!-- dtl:block:ClassReload -->
<div class="Header">
    <h2>
        $Text{"Class"}: $QData{"Class"}
    </h2>
</div>
<div class="Content">
    <table class="DataTable">
        <thead>
            <tr>
                <th>$Text{"Incident State"}</th>
                <th>$Text{"Number"}</th>
                <th>$Text{"Name"}</th>
                <th>$Text{"Deployment State"}</th>
                <th>$Text{"Last Change"}</th>
            </tr>
        </thead>
        <tbody>
<!-- dtl:block:ClassRowReload -->
            <tr>
                <td title="$Text{"$Data{"CurInciState"}"}" class="Flags Fixed">
                    <div title="$Text{"$Data{"CurInciState"}"}" class="Flag Small">
                        <span class="$Text{"$Data{"CurInciSignal"}"}">$Text{"$Data{"CurInciState"}"}</span>
                    </div>
                </td>
                <td>
                    <a href="$Env{"Baselink"}Action=AgentITSMConfigItemZoom;ConfigItemID=$QData{"ConfigItemID"}">$QData{"Number"}</a>
                </td>
                <td>$QData{"Name","40"}</td>
                <td>$Text{"$Data{"CurDeplState"}"}</td>
                <td class="W25pc">$TimeLong{"$QData{"CreateTime"}"}</td>
            </tr>
<!-- dtl:block:ClassRowReload -->
<!-- dtl:block:NoClassRowReload -->
            <tr>
                <td colspan="5">$Text{"No data found."}</td>
            </tr>
<!-- dtl:block:NoClassRowReload -->
        </tbody>
    </table>
</div>
<!-- dtl:block:ClassReload -->
</div>
<!-- dtl:block:Reload -->

<!-- dtl:js_on_document_complete -->
<script type="text/javascript">//<![CDATA[
    $('.MasterAction').bind('click', function (Event) {
        window.location = $(this).find('.MasterActionLink').attr('href');
    });
//]]></script>
<!-- dtl:js_on_document_complete -->
